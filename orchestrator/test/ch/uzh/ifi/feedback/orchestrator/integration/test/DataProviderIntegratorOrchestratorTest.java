package ch.uzh.ifi.feedback.orchestrator.integration.test;

import org.json.JSONObject;
import org.junit.Ignore;
import org.junit.Test;

import integration.DataProviderIntegratorOrchestrator;

public class DataProviderIntegratorOrchestratorTest {
    String topic = "2c90dce1-ab78-4faa-8375-1f5a5308698f";
    String jsonData = "{\"id\":20,\"name\":\"Senercon Test Application\",\"state\":1,\"generalConfiguration\":{\"id\":56,\"parameters\":[{\"id\":537,\"key\":\"feedbackMailAdress\",\"value\":\"info@example.com\",\"language\":\"en\",\"createdAt\":\"2017-01-23 04:35:38.957\"},{\"id\":469,\"key\":\"reviewActive\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":470,\"key\":\"mainColor\",\"value\":\"#00ff00\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":536,\"key\":\"feedbackMailKeyName\",\"value\":\"info@example.com\",\"language\":\"en\",\"createdAt\":\"2017-01-20 09:34:18.126\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},\"configurations\":[{\"id\":39,\"type\":\"PUSH\",\"mechanisms\":[{\"id\":59,\"configurationsId\":39,\"type\":\"TEXT_TYPE\",\"active\":true,\"order\":1,\"canBeActivated\":false,\"parameters\":[{\"id\":492,\"key\":\"maxLengthVisible\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":485,\"key\":\"borderColor\",\"value\":\"#000000\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":479,\"key\":\"mandatory\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":472,\"key\":\"title\",\"value\":\"Feedback\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":471,\"key\":\"maxLength\",\"value\":200,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":489,\"key\":\"fieldFontType\",\"value\":\"italic\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":484,\"key\":\"borderWidth\",\"value\":2,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":494,\"key\":\"validateOnSkip\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":488,\"key\":\"fieldFontSize\",\"value\":13,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":475,\"key\":\"labelPositioning\",\"value\":\"left\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":478,\"key\":\"textareaFontColor\",\"value\":\"#7A7A7A\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":487,\"key\":\"fieldHeight\",\"value\":50,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":486,\"key\":\"fieldWidth\",\"value\":200,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":473,\"key\":\"hint\",\"value\":\"Please enter your feedback\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":491,\"key\":\"fieldBackgroundColor\",\"value\":\"#ffffff\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":476,\"key\":\"labelColor\",\"value\":\"#353535\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":480,\"key\":\"mandatoryReminder\",\"value\":\"Please fill in the text field\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":490,\"key\":\"fieldTextAlignment\",\"value\":\"left\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":474,\"key\":\"label\",\"value\":\"Please write about your problem\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":493,\"key\":\"validationRegex\",\"value\":\".\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":482,\"key\":\"undoSteps\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":483,\"key\":\"clearInput\",\"value\":0,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":477,\"key\":\"labelFontSize\",\"value\":15,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":481,\"key\":\"undoEnabled\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":60,\"configurationsId\":39,\"type\":\"AUDIO_TYPE\",\"active\":false,\"order\":2,\"canBeActivated\":false,\"parameters\":[{\"id\":495,\"key\":\"maxTime\",\"value\":30,\"defaultValue\":\"30.0\",\"editableByUser\":false,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":61,\"configurationsId\":39,\"type\":\"SCREENSHOT_TYPE\",\"active\":true,\"order\":3,\"canBeActivated\":false,\"parameters\":[{\"id\":496,\"key\":\"title\",\"value\":\"Title for screenshot feedback\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":497,\"key\":\"defaultPicture\",\"value\":\"lastScreenshot\",\"defaultValue\":\"noImage\",\"editableByUser\":true,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":62,\"configurationsId\":39,\"type\":\"RATING_TYPE\",\"active\":true,\"order\":4,\"canBeActivated\":false,\"parameters\":[{\"id\":499,\"key\":\"ratingIcon\",\"value\":\"star\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":501,\"key\":\"defaultRating\",\"value\":3,\"defaultValue\":\"0.0\",\"editableByUser\":false,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":498,\"key\":\"title\",\"value\":\"Rate your user experience on this page\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":500,\"key\":\"maxRating\",\"value\":5,\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":63,\"configurationsId\":39,\"type\":\"AUDIO_TYPE\",\"active\":false,\"order\":2,\"canBeActivated\":false,\"parameters\":[{\"id\":502,\"key\":\"maxTime\",\"value\":30,\"defaultValue\":\"30.0\",\"editableByUser\":false,\"language\":\"en\",\"createdAt\":\"2016-10-05 12:50:56.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":64,\"configurationsId\":39,\"type\":\"CATEGORY_TYPE\",\"active\":true,\"order\":5,\"canBeActivated\":false,\"parameters\":[{\"id\":507,\"key\":\"mandatoryReminder\",\"value\":\"Please select at least one category\",\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"},{\"id\":508,\"key\":\"options\",\"value\":[{\"id\":509,\"key\":\"BUG_CATEGORY\",\"value\":\"Bug\",\"defaultValue\":\"en\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":510,\"key\":\"FEATURE_REQUEST_CATEGORY\",\"value\":\"Feature Request\",\"defaultValue\":\"en\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":511,\"key\":\"GENERAL_CATEGORY\",\"value\":\"General Feedback\",\"defaultValue\":\"en\",\"language\":\"en\",\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"},{\"id\":506,\"key\":\"mandatory\",\"value\":1,\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"},{\"id\":504,\"key\":\"ownAllowed\",\"value\":0,\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"},{\"id\":505,\"key\":\"multiple\",\"value\":0,\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"},{\"id\":503,\"key\":\"title\",\"value\":\"Please choose one of the following categories\",\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:36.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"},{\"id\":65,\"configurationsId\":39,\"type\":\"ATTACHMENT_TYPE\",\"active\":true,\"order\":7,\"canBeActivated\":false,\"parameters\":[{\"id\":512,\"key\":\"title\",\"value\":\"You can also attach some files to your feedback\",\"language\":\"en\",\"createdAt\":\"2016-10-24 01:45:37.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"generalConfiguration\":{\"id\":61,\"parameters\":[{\"id\":535,\"key\":\"feedbackMailKeyName\",\"value\":\"info@example.com\",\"language\":\"en\",\"createdAt\":\"2016-12-04 08:41:27.0\"}],\"name\":\"Senercon \",\"createdAt\":\"2016-12-04 08:39:54.0\"},\"createdAt\":\"2016-11-09 09:53:39.0\"}],\"createdAt\":\"2016-11-09 09:53:39.0\"}";

    @Ignore
    @Test
    public void testIngestJsonData() throws Exception {
    	DataProviderIntegratorOrchestrator dataProviderIntegratorOrchestrator = new DataProviderIntegratorOrchestrator();
        JSONObject jsonObject = new JSONObject(jsonData);

        dataProviderIntegratorOrchestrator.ingestJsonData(jsonObject, topic);
    }
}
